・case式
case
  when count(*) >= 5 then 'A'
  when count(*) >= 2 then 'B'
  else 'C'
end


注文回数が５以上、２以上、それ以下でランク付けして、
ユーザーid、注文回数、ランクで表示

select
	u.id user_id,
  count(*) num,
  case
    when count(*) >= 5 then 'A'
    when count(*) >= 2 then 'B'
    else 'C'
  end as user_rank
from
	users u
inner join
	orders o
on u.id = o.user_id
group by
	u.id
order by
	user_rank;


・nullを０に置き換える

select
	p.id,
  p.name,
  case
		when sum(od.product_qty) is null then 0
    else sum(od.product_qty)
	end num
from
	products p
left outer join
	order_details od
on p.id = od.product_id
group by p.id;

